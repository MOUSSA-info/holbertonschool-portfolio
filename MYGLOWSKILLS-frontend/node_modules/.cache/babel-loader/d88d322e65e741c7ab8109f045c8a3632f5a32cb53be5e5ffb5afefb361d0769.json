{"ast":null,"code":"// src/services/api.js\nimport axios from \"axios\";\nconst API = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || \"http://localhost:5000/api/v1\"\n});\n\n// Intercepteur pour ajouter automatiquement le token JWT\nAPI.interceptors.request.use(config => {\n  const token = localStorage.getItem(\"token\");\n  if (token) config.headers.Authorization = `Bearer ${token}`;\n  return config;\n});\n\n/* ------------------ Sécurité ------------------ */\nexport const getOverview = () => API.get(\"/security/overview\");\nexport const analyzeSecurity = () => API.post(\"/security/analyze\");\nexport const encryptFile = file => {\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  return API.post(\"/security/encrypt\", formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  });\n};\nexport const backupFile = file => {\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  return API.post(\"/security/backup\", formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  });\n};\nexport const generatePassword = () => API.get(\"/security/password-generator\");\n\n/* ------------------ Authentification ------------------ */\nexport const login = (email, password) => API.post(\"/auth/login\", {\n  email,\n  password\n});\nexport const register = (name, email, password) => API.post(\"/auth/register\", {\n  name,\n  email,\n  password\n});\n\n/* ------------------ Profil ------------------ */\nexport const updateProfile = data => API.put(\"/users/me\", data);\nexport const getUsers = () => API.get(\"/users\");\nexport const updateUserRole = (userId, role) => API.put(`/users/${userId}/role`, {\n  role\n});\n\n/* ------------------ Support ------------------ */\nexport const sendContactMessage = data => API.post(\"/support/contact\", data);\nexport default API;","map":{"version":3,"names":["axios","API","create","baseURL","process","env","REACT_APP_API_URL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","getOverview","get","analyzeSecurity","post","encryptFile","file","formData","FormData","append","backupFile","generatePassword","login","email","password","register","name","updateProfile","data","put","getUsers","updateUserRole","userId","role","sendContactMessage"],"sources":["/root/holbertonschool-portfolio/MYGLOWSKILLS-frontend/src/services/api.js"],"sourcesContent":["// src/services/api.js\nimport axios from \"axios\";\n\nconst API = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || \"http://localhost:5000/api/v1\",\n});\n\n// Intercepteur pour ajouter automatiquement le token JWT\nAPI.interceptors.request.use((config) => {\n  const token = localStorage.getItem(\"token\");\n  if (token) config.headers.Authorization = `Bearer ${token}`;\n  return config;\n});\n\n/* ------------------ Sécurité ------------------ */\nexport const getOverview = () => API.get(\"/security/overview\");\nexport const analyzeSecurity = () => API.post(\"/security/analyze\");\n\nexport const encryptFile = (file) => {\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  return API.post(\"/security/encrypt\", formData, {\n    headers: { \"Content-Type\": \"multipart/form-data\" },\n  });\n};\n\nexport const backupFile = (file) => {\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  return API.post(\"/security/backup\", formData, {\n    headers: { \"Content-Type\": \"multipart/form-data\" },\n  });\n};\n\nexport const generatePassword = () => API.get(\"/security/password-generator\");\n\n/* ------------------ Authentification ------------------ */\nexport const login = (email, password) => API.post(\"/auth/login\", { email, password });\nexport const register = (name, email, password) => API.post(\"/auth/register\", { name, email, password });\n\n/* ------------------ Profil ------------------ */\nexport const updateProfile = (data) => API.put(\"/users/me\", data);\nexport const getUsers = () => API.get(\"/users\");\nexport const updateUserRole = (userId, role) => API.put(`/users/${userId}/role`, { role });\n\n/* ------------------ Support ------------------ */\nexport const sendContactMessage = (data) => API.post(\"/support/contact\", data);\n\nexport default API;\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI;AAC5C,CAAC,CAAC;;AAEF;AACAL,GAAG,CAACM,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACvC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAED,MAAM,CAACI,OAAO,CAACC,aAAa,GAAG,UAAUJ,KAAK,EAAE;EAC3D,OAAOD,MAAM;AACf,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMM,WAAW,GAAGA,CAAA,KAAMf,GAAG,CAACgB,GAAG,CAAC,oBAAoB,CAAC;AAC9D,OAAO,MAAMC,eAAe,GAAGA,CAAA,KAAMjB,GAAG,CAACkB,IAAI,CAAC,mBAAmB,CAAC;AAElE,OAAO,MAAMC,WAAW,GAAIC,IAAI,IAAK;EACnC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;EAC7B,OAAOpB,GAAG,CAACkB,IAAI,CAAC,mBAAmB,EAAEG,QAAQ,EAAE;IAC7CR,OAAO,EAAE;MAAE,cAAc,EAAE;IAAsB;EACnD,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMW,UAAU,GAAIJ,IAAI,IAAK;EAClC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;EAC7B,OAAOpB,GAAG,CAACkB,IAAI,CAAC,kBAAkB,EAAEG,QAAQ,EAAE;IAC5CR,OAAO,EAAE;MAAE,cAAc,EAAE;IAAsB;EACnD,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMY,gBAAgB,GAAGA,CAAA,KAAMzB,GAAG,CAACgB,GAAG,CAAC,8BAA8B,CAAC;;AAE7E;AACA,OAAO,MAAMU,KAAK,GAAGA,CAACC,KAAK,EAAEC,QAAQ,KAAK5B,GAAG,CAACkB,IAAI,CAAC,aAAa,EAAE;EAAES,KAAK;EAAEC;AAAS,CAAC,CAAC;AACtF,OAAO,MAAMC,QAAQ,GAAGA,CAACC,IAAI,EAAEH,KAAK,EAAEC,QAAQ,KAAK5B,GAAG,CAACkB,IAAI,CAAC,gBAAgB,EAAE;EAAEY,IAAI;EAAEH,KAAK;EAAEC;AAAS,CAAC,CAAC;;AAExG;AACA,OAAO,MAAMG,aAAa,GAAIC,IAAI,IAAKhC,GAAG,CAACiC,GAAG,CAAC,WAAW,EAAED,IAAI,CAAC;AACjE,OAAO,MAAME,QAAQ,GAAGA,CAAA,KAAMlC,GAAG,CAACgB,GAAG,CAAC,QAAQ,CAAC;AAC/C,OAAO,MAAMmB,cAAc,GAAGA,CAACC,MAAM,EAAEC,IAAI,KAAKrC,GAAG,CAACiC,GAAG,CAAC,UAAUG,MAAM,OAAO,EAAE;EAAEC;AAAK,CAAC,CAAC;;AAE1F;AACA,OAAO,MAAMC,kBAAkB,GAAIN,IAAI,IAAKhC,GAAG,CAACkB,IAAI,CAAC,kBAAkB,EAAEc,IAAI,CAAC;AAE9E,eAAehC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}