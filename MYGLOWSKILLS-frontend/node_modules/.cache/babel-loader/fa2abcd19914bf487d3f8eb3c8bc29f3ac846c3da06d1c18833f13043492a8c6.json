{"ast":null,"code":"import React,{useEffect,useState}from'react';import api from'../services/api';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";function Projects(){const[projects,setProjects]=useState([]);const[error,setError]=useState(null);const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem('token');if(!token)return navigate('/login');api.get('/projects',{headers:{Authorization:token}}).then(res=>setProjects(res.data)).catch(()=>{setError('Impossible de charger les projets.');localStorage.removeItem('token');navigate('/login');});},[navigate]);if(error)return/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error});return/*#__PURE__*/_jsx(\"div\",{className:\"projects-grid\",children:projects.map(p=>/*#__PURE__*/_jsx(\"div\",{className:\"project-card\",children:/*#__PURE__*/_jsx(\"h3\",{children:p.name})},p._id))});}export default Projects;","map":{"version":3,"names":["React","useEffect","useState","api","useNavigate","jsx","_jsx","Projects","projects","setProjects","error","setError","navigate","token","localStorage","getItem","get","headers","Authorization","then","res","data","catch","removeItem","className","children","map","p","name","_id"],"sources":["/mnt/c/Users/floei/holbertonschool-portfolio/MYGLOWSKILLS-frontend/src/pages/Projects.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport api from '../services/api';\nimport { useNavigate } from 'react-router-dom';\n\nfunction Projects() {\n  const [projects, setProjects] = useState([]);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) return navigate('/login');\n\n    api.get('/projects', { headers: { Authorization: token } })\n      .then(res => setProjects(res.data))\n      .catch(() => {\n        setError('Impossible de charger les projets.');\n        localStorage.removeItem('token');\n        navigate('/login');\n      });\n  }, [navigate]);\n\n  if (error) return <p className=\"error\">{error}</p>;\n\n  return (\n    <div className=\"projects-grid\">\n      {projects.map(p => (\n        <div key={p._id} className=\"project-card\">\n          <h3>{p.name}</h3>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default Projects;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CACjC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE/C,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGP,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAAU,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAE9BH,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,MAAO,CAAAD,QAAQ,CAAC,QAAQ,CAAC,CAErCT,GAAG,CAACa,GAAG,CAAC,WAAW,CAAE,CAAEC,OAAO,CAAE,CAAEC,aAAa,CAAEL,KAAM,CAAE,CAAC,CAAC,CACxDM,IAAI,CAACC,GAAG,EAAIX,WAAW,CAACW,GAAG,CAACC,IAAI,CAAC,CAAC,CAClCC,KAAK,CAAC,IAAM,CACXX,QAAQ,CAAC,oCAAoC,CAAC,CAC9CG,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC,CAChCX,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,GAAIF,KAAK,CAAE,mBAAOJ,IAAA,MAAGkB,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEf,KAAK,CAAI,CAAC,CAElD,mBACEJ,IAAA,QAAKkB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3BjB,QAAQ,CAACkB,GAAG,CAACC,CAAC,eACbrB,IAAA,QAAiBkB,SAAS,CAAC,cAAc,CAAAC,QAAA,cACvCnB,IAAA,OAAAmB,QAAA,CAAKE,CAAC,CAACC,IAAI,CAAK,CAAC,EADTD,CAAC,CAACE,GAEP,CACN,CAAC,CACC,CAAC,CAEV,CAEA,cAAe,CAAAtB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}